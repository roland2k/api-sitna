<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>SITNA.Map - API SITNA</title>
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="../assets/vendor/yui-min.js"></script>
</head>
<body>

<div id="doc">
    <header class="main-header">
        <div class="content">
            <div class="project-title">
                    <a href="../"><img class="logo" src="http://sitna.tracasa.es/api/tc/css/img/sitna-logo.png" title="API SITNA"></a>
                
                    <h1 class="project-name"><a href="../">API SITNA</a></h1> <span class="project-version">1.5.1</span>
                
                
                    <p class="description">API de mapas del Gobierno de Navarra</p>
                
            </div>
            <ul class="jump-links">
                <li><a href="#index" class="index-jump-link">&iacute;ndice</a></li>
                <li><a href="#top" class="top-jump-link">inicio</a></li>
            </ul>
        </div>
    </header>
    <div id="bd" class="main-body">

        <div id="docs-sidebar" class="sidebar apidocs">
            ﻿<div id="api-list">
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-modules">Secciones</a></li>
            <li><a href="#api-classes">Clases</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Escriba para filtrar la API">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-modules" class="apis modules">
            
                <li><a class="module" href="../modules/1. Direcciones de la API.html">1. Direcciones de la API</a></li>
            
                <li><a class="module" href="../modules/2. Configuración.html">2. Configuración</a></li>
            
                <li><a class="module" href="../modules/2.1. Parámetros del constructor.html">2.1. Parámetros del constructor</a></li>
            
                <li><a class="module" href="../modules/2.2. Maquetación.html">2.2. Maquetación</a></li>
            
                <li><a class="module" href="../modules/2.3. Objeto de configuración global.html">2.3. Objeto de configuración global</a></li>
            
                <li><a class="module" href="../modules/2.3.1. Objeto de configuración de opciones del buscador.html">2.3.1. Objeto de configuración de opciones del buscador</a></li>
            
                <li><a class="module" href="../modules/3. Clases CSS.html">3. Clases CSS</a></li>
            
                <li><a class="module" href="../modules/3.1. layerCatalog.html">3.1. layerCatalog</a></li>
            
                <li><a class="module" href="../modules/4. Historial de cambios.html">4. Historial de cambios</a></li>
            
            </ul>

            <ul id="api-classes" class="apis classes">
            
                <li><a title="SITNA.Cfg" class="type" href="../classes/SITNA.Cfg.html">SITNA.Cfg</a></li>
            
                <li><a title="SITNA.cfg.ClickOptions" class="type" href="../classes/SITNA.cfg.ClickOptions.html">SITNA.cfg.ClickOptions</a></li>
            
                <li><a title="SITNA.cfg.ClusterOptions" class="type" href="../classes/SITNA.cfg.ClusterOptions.html">SITNA.cfg.ClusterOptions</a></li>
            
                <li><a title="SITNA.cfg.ClusterStyleOptions" class="type" href="../classes/SITNA.cfg.ClusterStyleOptions.html">SITNA.cfg.ClusterStyleOptions</a></li>
            
                <li><a title="SITNA.cfg.ControlOptions" class="type" href="../classes/SITNA.cfg.ControlOptions.html">SITNA.cfg.ControlOptions</a></li>
            
                <li><a title="SITNA.cfg.CoordinatesOptions" class="type" href="../classes/SITNA.cfg.CoordinatesOptions.html">SITNA.cfg.CoordinatesOptions</a></li>
            
                <li><a title="SITNA.cfg.DataLoaderOptions" class="type" href="../classes/SITNA.cfg.DataLoaderOptions.html">SITNA.cfg.DataLoaderOptions</a></li>
            
                <li><a title="SITNA.cfg.LayerCatalogOptions" class="type" href="../classes/SITNA.cfg.LayerCatalogOptions.html">SITNA.cfg.LayerCatalogOptions</a></li>
            
                <li><a title="SITNA.cfg.LayerOptions" class="type" href="../classes/SITNA.cfg.LayerOptions.html">SITNA.cfg.LayerOptions</a></li>
            
                <li><a title="SITNA.cfg.LineStyleOptions" class="type" href="../classes/SITNA.cfg.LineStyleOptions.html">SITNA.cfg.LineStyleOptions</a></li>
            
                <li><a title="SITNA.cfg.MapControlOptions" class="type" href="../classes/SITNA.cfg.MapControlOptions.html">SITNA.cfg.MapControlOptions</a></li>
            
                <li><a title="SITNA.cfg.MarkerOptions" class="type" href="../classes/SITNA.cfg.MarkerOptions.html">SITNA.cfg.MarkerOptions</a></li>
            
                <li><a title="SITNA.cfg.MarkerStyleOptions" class="type" href="../classes/SITNA.cfg.MarkerStyleOptions.html">SITNA.cfg.MarkerStyleOptions</a></li>
            
                <li><a title="SITNA.cfg.OverviewMapOptions" class="type" href="../classes/SITNA.cfg.OverviewMapOptions.html">SITNA.cfg.OverviewMapOptions</a></li>
            
                <li><a title="SITNA.cfg.PointStyleOptions" class="type" href="../classes/SITNA.cfg.PointStyleOptions.html">SITNA.cfg.PointStyleOptions</a></li>
            
                <li><a title="SITNA.cfg.PolygonStyleOptions" class="type" href="../classes/SITNA.cfg.PolygonStyleOptions.html">SITNA.cfg.PolygonStyleOptions</a></li>
            
                <li><a title="SITNA.cfg.SearchCadastralSource" class="type" href="../classes/SITNA.cfg.SearchCadastralSource.html">SITNA.cfg.SearchCadastralSource</a></li>
            
                <li><a title="SITNA.cfg.SearchCadastralSourceExt" class="type" href="../classes/SITNA.cfg.SearchCadastralSourceExt.html">SITNA.cfg.SearchCadastralSourceExt</a></li>
            
                <li><a title="SITNA.cfg.SearchMunicipalitySource" class="type" href="../classes/SITNA.cfg.SearchMunicipalitySource.html">SITNA.cfg.SearchMunicipalitySource</a></li>
            
                <li><a title="SITNA.cfg.SearchOptions" class="type" href="../classes/SITNA.cfg.SearchOptions.html">SITNA.cfg.SearchOptions</a></li>
            
                <li><a title="SITNA.cfg.SearchPostalAddressSource" class="type" href="../classes/SITNA.cfg.SearchPostalAddressSource.html">SITNA.cfg.SearchPostalAddressSource</a></li>
            
                <li><a title="SITNA.cfg.SearchQueryProperties" class="type" href="../classes/SITNA.cfg.SearchQueryProperties.html">SITNA.cfg.SearchQueryProperties</a></li>
            
                <li><a title="SITNA.cfg.SearchStreetSource" class="type" href="../classes/SITNA.cfg.SearchStreetSource.html">SITNA.cfg.SearchStreetSource</a></li>
            
                <li><a title="SITNA.cfg.SearchSuggestionListColor" class="type" href="../classes/SITNA.cfg.SearchSuggestionListColor.html">SITNA.cfg.SearchSuggestionListColor</a></li>
            
                <li><a title="SITNA.cfg.SearchSuggestionListColorByFeatureType" class="type" href="../classes/SITNA.cfg.SearchSuggestionListColorByFeatureType.html">SITNA.cfg.SearchSuggestionListColorByFeatureType</a></li>
            
                <li><a title="SITNA.cfg.SearchSuggestionListProperties" class="type" href="../classes/SITNA.cfg.SearchSuggestionListProperties.html">SITNA.cfg.SearchSuggestionListProperties</a></li>
            
                <li><a title="SITNA.cfg.SearchTownSource" class="type" href="../classes/SITNA.cfg.SearchTownSource.html">SITNA.cfg.SearchTownSource</a></li>
            
                <li><a title="SITNA.cfg.StreetViewOptions" class="type" href="../classes/SITNA.cfg.StreetViewOptions.html">SITNA.cfg.StreetViewOptions</a></li>
            
                <li><a title="SITNA.cfg.StyleOptions" class="type" href="../classes/SITNA.cfg.StyleOptions.html">SITNA.cfg.StyleOptions</a></li>
            
                <li><a title="SITNA.cfg.WMSGroupOptions" class="type" href="../classes/SITNA.cfg.WMSGroupOptions.html">SITNA.cfg.WMSGroupOptions</a></li>
            
                <li><a title="SITNA.cfg.WMSOptions" class="type" href="../classes/SITNA.cfg.WMSOptions.html">SITNA.cfg.WMSOptions</a></li>
            
                <li><a title="SITNA.Consts" class="type" href="../classes/SITNA.Consts.html">SITNA.Consts</a></li>
            
                <li><a title="SITNA.consts.Geom" class="type" href="../classes/SITNA.consts.Geom.html">SITNA.consts.Geom</a></li>
            
                <li><a title="SITNA.consts.Layer" class="type" href="../classes/SITNA.consts.Layer.html">SITNA.consts.Layer</a></li>
            
                <li><a title="SITNA.consts.LayerType" class="type" href="../classes/SITNA.consts.LayerType.html">SITNA.consts.LayerType</a></li>
            
                <li><a title="SITNA.consts.MimeType" class="type" href="../classes/SITNA.consts.MimeType.html">SITNA.consts.MimeType</a></li>
            
                <li><a title="SITNA.Map" class="type" href="../classes/SITNA.Map.html">SITNA.Map</a></li>
            
            </ul>
        </div>
    </div>
</div>

        </div>

        <div id="docs-main" class="apidocs">
            <div class="content container">
                ﻿<h1>Clase SITNA.Map</h1>
<div class="box meta">
    

    

    
        <div class="foundat" style="display:none">
            Se define en: <a href="../files/sitna.js.html#l2858"><code>sitna.js:2858</code></a>
        </div>
    

    
        
            Sección relacionada: <a href="../modules/2.1. Parámetros del constructor.html">2.1. Parámetros del constructor</a><br>
            Sección principal: <a href="../modules/2. Configuración.html">2. Configuración</a>
        
    

    
</div>



<div class="box intro">
    <p>Objeto principal de la API, instancia un mapa dentro de un elemento del DOM. Nótese que el constructor es asíncrono, por tanto cualquier código
que haga uso de este objeto debería estar dentro de una función de callback pasada como parámetro al método <a href="../classes/SITNA.Map.html#method_loaded" class="crosslink">loaded</a>.</p>
<p>Las opciones de configuración del mapa son una combinación de las opciones de configuración global (definidas en <a href="../classes/SITNA.Cfg.html" class="crosslink">SITNA.Cfg</a>),
las opciones definidas por el <a href="../classes/SITNA.Cfg.html#property_layout" class="crosslink">layout</a> que utilicemos, y las opciones pasadas como parámetro al
constructor. Estas opciones están ordenadas de menor a mayor prevalencia, de modo que por ejemplo una opción pasada como parámetro del constructor
siempre sobreescribirá una opción de la configuración global.</p>
<p>Puede consultar también online el <a href="../../examples/Map.1.html">ejemplo 1</a>, el <a href="../../examples/Map.2.html">ejemplo 2</a> y el <a href="../../examples/Map.3.html">ejemplo 3</a>.</p>
<h4 id="ejemplo-1-">Ejemplo 1:</h4>
<pre class="code prettyprint"><code class="lang-javascript">  &lt;div id="mapa"/&gt;
  &lt;script&gt;
    // Crear un mapa con las opciones por defecto.
    var map = new SITNA.Map("mapa");
  &lt;/script&gt;</code></pre>
<h4 id="ejemplo-2-">Ejemplo 2:</h4>
<pre class="code prettyprint"><code class="lang-javascript">  &lt;div id="mapa"/&gt;
  &lt;script&gt;
    // Crear un mapa en el sistema de referencia WGS 84 con el de mapa de fondo.
    var map = new SITNA.Map("mapa", {
      crs: "EPSG:4326",
      initialExtent: [ // Coordenadas en grados decimales, porque el sistema de referencia espacial es WGS 84.
        -2.84820556640625,
        41.78912492257675,
        -0.32135009765625,
        43.55789822064767
      ],
      maxExtent: [
        -2.84820556640625,
        41.78912492257675,
        -0.32135009765625,
        43.55789822064767
      ],
      baselayerExtent: [
        -2.84820556640625,
        41.78912492257675,
        -0.32135009765625,
        43.55789822064767
      ],
      baseLayers: [
        SITNA.Consts.layer.IDENA_DYNBASEMAP
      ],
      defaultBaseLayer: SITNA.Consts.layer.IDENA_DYNBASEMAP,
      // Establecemos el mapa de situación con una capa compatible con WGS 84
      controls: {
        overviewMap: {
          layer: SITNA.Consts.layer.IDENA_DYNBASEMAP
        }
      }
    });
  &lt;/script&gt;</code></pre>
<h4 id="ejemplo-3-">Ejemplo 3:</h4>
<pre class="code prettyprint"><code class="lang-javascript">  &lt;div id="mapa"&gt;&lt;/div&gt;
  &lt;script&gt;
    // Crear un mapa que tenga como contenido las capas de toponimia y mallas cartográficas del WMS de IDENA.
    var map = new SITNA.Map("mapa", {
      workLayers: [
        {
          id: "topo_mallas",
          title: "Toponimia y mallas cartográficas",
          type: SITNA.Consts.layerType.WMS,
          url: "//idena.navarra.es/ogc/wms",
          layerNames: "IDENA:toponimia,IDENA:mallas"
        }
      ]
    });
  &lt;/script&gt;</code></pre>

</div>

<!-- Class member index -->

<a name="index" class="anchor-link"></a>
<div class="index">
<h2>Índice</h2>

﻿    <div id="api-options" style="display:none">
        Mostrar:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited">
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>









    <div class="index-section methods">
        <h3>Métodos</h3>

        <ul class="index-list methods">

            
                <li class="index-item method constructor">
                    <a href="#method_SITNA.Map">SITNA.Map</a>

                    <span class="flag constructor">constructor</span>

                    
                    
                </li>
            

            
                <li class="index-item method">
                    <a href="#method_addLayer">addLayer</a>

                    
                    
                </li>
            
                <li class="index-item method">
                    <a href="#method_addMarker">addMarker</a>

                    
                    
                </li>
            
                <li class="index-item method">
                    <a href="#method_exportImage">exportImage</a>

                    
                    
                </li>
            
                <li class="index-item method">
                    <a href="#method_getCommonwealths">getCommonwealths</a>

                    
                    
                </li>
            
                <li class="index-item method">
                    <a href="#method_getCouncils">getCouncils</a>

                    
                    
                </li>
            
                <li class="index-item method">
                    <a href="#method_getMunicipalities">getMunicipalities</a>

                    
                    
                </li>
            
                <li class="index-item method">
                    <a href="#method_getUrbanAreas">getUrbanAreas</a>

                    
                    
                </li>
            
                <li class="index-item method">
                    <a href="#method_loaded">loaded</a>

                    
                    
                </li>
            
                <li class="index-item method">
                    <a href="#method_removeSearch">removeSearch</a>

                    
                    
                </li>
            
                <li class="index-item method">
                    <a href="#method_searchCommonwealth">searchCommonwealth</a>

                    
                    
                </li>
            
                <li class="index-item method">
                    <a href="#method_searchCouncil">searchCouncil</a>

                    
                    
                </li>
            
                <li class="index-item method">
                    <a href="#method_searchFeature">searchFeature</a>

                    
                    
                </li>
            
                <li class="index-item method">
                    <a href="#method_searchMunicipality">searchMunicipality</a>

                    
                    
                </li>
            
                <li class="index-item method">
                    <a href="#method_searchUrbanArea">searchUrbanArea</a>

                    
                    
                </li>
            
                <li class="index-item method">
                    <a href="#method_setBaseLayer">setBaseLayer</a>

                    
                    
                </li>
            
                <li class="index-item method">
                    <a href="#method_zoomToMarkers">zoomToMarkers</a>

                    
                    
                </li>
            
        </ul>
    </div>



</div>


<div class="class-detail">






    <div class="constructor">
        <h2>Constructor</h2>
        ﻿<a name="method_SITNA.Map" class="anchor-link"></a>
<div class="method item">
    <h3 class="name"><code>SITNA.Map</code>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>div</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code class="optional">[options]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    
        <span class="flag async">async</span>
    

    </h3>

    <div class="meta">
        
            
                
                <p style="display:none">
                
                Se define en
                
            
        
        
        <a href="../files/sitna.js.html#l2858"><code>sitna.js:2858</code></a>
        
        </p>


        

        
    </div>

    <div class="extended-detail">

        <div class="description">
            
        </div>

        
            <div class="params">
                <h4>Parámetros:</h4>

                <ul class="params-list">
                
                    <li class="param">
                        
                            <code class="param-name">div</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/Document_Object_Model_(DOM)/HTMLElement" class="crosslink external" target="_blank">HTMLElement</a> | <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                        

                        

                        <div class="param-description">
                            <p>Elemento del DOM en el que crear el mapa o valor de atributo id de dicho elemento.</p>

                        </div>

                        
                    </li>
                
                    <li class="param">
                        
                            <code class="param-name optional">[options]</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
                            <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                        

                        

                        <div class="param-description">
                            <p>Objeto de opciones de configuración del mapa. Sus propiedades sobreescriben el objeto de configuración global <a href="../classes/SITNA.Cfg.html" class="crosslink">SITNA.Cfg</a>.</p>

                        </div>

                        
                            <ul class="params-list">
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[crs=&quot;EPSG:25830&quot;]</code>
                                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>Código EPSG del sistema de referencia espacial del mapa. Por defecto es <code>&quot;EPSG:25830&quot;</code>.</p>

                                    </div>

                                    
                                </li>
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[initialExtent]</code>
                                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array" class="crosslink external" target="_blank">Array</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>Extensión inicial del mapa definida por x mínima, y mínima, x máxima, y máxima. 
Esta opción es obligatoria si el sistema de referencia espacial del mapa es distinto del sistema por defecto (ver SITNA.Cfg.<a href="../classes/SITNA.Cfg.html#property_crs" class="crosslink">crs</a>).</p>
<p>Para más información consultar SITNA.Cfg.<a href="../classes/SITNA.Cfg.html#property_initialExtent" class="crosslink">initialExtent</a>.</p>

                                    </div>

                                    
                                </li>
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[maxExtent]</code>
                                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array" class="crosslink external" target="_blank">Array</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>Extensión máxima del mapa definida por x mínima, y mínima, x máxima, y máxima. Para más información consultar SITNA.Cfg.<a href="../classes/SITNA.Cfg.html#property_maxExtent" class="crosslink">maxExtent</a>.</p>

                                    </div>

                                    
                                </li>
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[layout]</code>
                                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>URL de una carpeta de maquetación. Consultar la sección <a href="../modules/2.2. Maquetación.html">2.2. Maquetación</a> para ver instrucciones de uso de maquetaciones.</p>

                                    </div>

                                    
                                </li>
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[baseLayers]</code>
                                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array" class="crosslink external" target="_blank">Array</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>Lista de identificadores de capa o instancias de la clase <a href="../classes/SITNA.cfg.LayerOptions.html" class="crosslink">SITNA.cfg.LayerOptions</a> para incluir dichas capas como mapas de fondo.</p>

                                    </div>

                                    
                                </li>
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[workLayers]</code>
                                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array" class="crosslink external" target="_blank">Array</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>Lista de identificadores de capa o instancias de la clase <a href="../classes/SITNA.cfg.LayerOptions.html" class="crosslink">SITNA.cfg.LayerOptions</a> para incluir dichas capas como contenido del mapa.</p>

                                    </div>

                                    
                                </li>
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[defaultBaseLayer]</code>
                                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a> | <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>Identificador o índice en <code>baseLayers</code> de la capa base por defecto.</p>

                                    </div>

                                    
                                </li>
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[controls]</code>
                                        <span class="type"><a href="../classes/SITNA.cfg.MapControlOptions.html" class="crosslink">SITNA.cfg.MapControlOptions</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>Opciones de controles de mapa.</p>

                                    </div>

                                    
                                </li>
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[styles]</code>
                                        <span class="type"><a href="../classes/SITNA.cfg.StyleOptions.html" class="crosslink">SITNA.cfg.StyleOptions</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>Opciones de estilo de entidades geográficas.</p>

                                    </div>

                                    
                                </li>
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[locale=&quot;es-ES&quot;]</code>
                                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>Código de idioma de la interfaz de usuario. Este código debe obedecer la sintaxis definida por la <a href="https://en.wikipedia.org/wiki/IETF_language_tag">IETF</a>.
Los valores posibles son <code>&quot;es-ES&quot;</code>, <code>&quot;eu-ES&quot;</code> y <code>&quot;en-US&quot;</code>. Por defecto es <code>&quot;es-ES&quot;</code>.</p>

                                    </div>

                                    
                                </li>
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[crossOrigin]</code>
                                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>Valor del atributo <code>crossorigin</code> de las imágenes del mapa para  <a href="https://developer.mozilla.org/es/docs/Web/HTML/Imagen_con_CORS_habilitado">habilitar CORS</a>
Es necesario establecer esta opción para poder utilizar el método SITNA.Map.<a href="../classes/SITNA.Map.html#method_exportImage" class="crosslink">exportImage</a>. </p>
<p>Los valores soportados son <code>"anonymous"</code> y <code>"use-credentials"</code>.</p>

                                    </div>

                                    
                                </li>
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[mouseWheelZoom]</code>
                                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Boolean" class="crosslink external" target="_blank">Boolean</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>Si se establece a <code>true</code>, la rueda del ratón se puede utilizar para hacer zoom en el mapa.</p>

                                    </div>

                                    
                                </li>
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[proxy]</code>
                                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>URL del proxy utilizado para peticiones a dominios remotos (ver SITNA.Cfg.<a href="../classes/SITNA.Cfg.html#property_proxy" class="crosslink">proxy</a>).</p>

                                    </div>

                                    
                                </li>
                                
                            </ul>
                        
                    </li>
                
                </ul>
            </div>
        

        

        
    </div>
</div>

    </div>



    <div class="methods-detail">
        <h2>Métodos</h2>

        
            ﻿<a name="method_addLayer" class="anchor-link"></a>
<div class="method item">
    <h3 class="name"><code>addLayer</code>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>layer</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code class="optional">[callback]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    
        <span class="flag async">async</span>
    

    </h3>

    <div class="meta">
        
            
                
                    <p>Proporcionado por el módulo <a href="../modules/2.3. Objeto de configuración global.html" class="module-name">2.3. Objeto de configuración global</a>.</p>
                
                <p style="display:none">
                
                Se define en
                
            
        
        
        <a href="../files/sitna.js.html#l3012"><code>sitna.js:3012</code></a>
        
        </p>


        

        
    </div>

    <div class="extended-detail">

        <div class="description">
            <p>Añade una capa al mapa. Si se le pasa una instancia de la clase <a href="../classes/SITNA.cfg.LayerOptions.html" class="crosslink">SITNA.cfg.LayerOptions</a> como parámetro <code>layer</code>
y tiene definida la propiedad SITNA.cfg.LayerOptions.<a href="../classes/SITNA.cfg.LayerOptions.html#property_url" class="crosslink">url</a>, establece por defecto
el tipo de capa a <a href="../classes/SITNA.consts.LayerType.html#property_KML" class="crosslink">KML</a> si la URL acaba en ".kml".</p>
<p>El tipo de la capa no puede ser <a href="../classes/SITNA.consts.LayerType.html#property_WFS" class="crosslink">WFS</a>.</p>
<p>Puede consultar también online el <a href="../../examples/Map.addLayer.1.html">ejemplo 1</a> y el <a href="../../examples/Map.addLayer.2.html">ejemplo 2</a>. </p>
<h4 id="ejemplo-1-">Ejemplo 1:</h4>
<pre class="code prettyprint"><code class="lang-javascript">  &lt;div id="mapa"&gt;&lt;/div&gt;
  &lt;script&gt;
    // Crear un mapa con las opciones por defecto.
    var map = new SITNA.Map("mapa");
    // Cuando esté todo cargado proceder a trabajar con el mapa.
    map.loaded(function () {
      // Añadir al mapa la capa de cartografía topográfica de IDENA
      map.addLayer(SITNA.Consts.layer.IDENA_CARTO);
    });
  &lt;/script&gt;</code></pre>
<h4 id="ejemplo-2-">Ejemplo 2:</h4>
<pre class="code prettyprint"><code class="lang-javascript">  &lt;div id="mapa"&gt;&lt;/div&gt;
  &lt;script&gt;
    // Crear un mapa con las opciones por defecto.
    var map = new SITNA.Map("mapa");

    // Cuando esté todo cargado proceder a trabajar con el mapa.
    map.loaded(function () {
      // Añadir al mapa un documento KML
      map.addLayer({
        id: "capa_kml",
        title: "Museos en Navarra",
        type: SITNA.Consts.layerType.KML,
        url: "data/MUSEOSNAVARRA.kml"
      });
    });
  &lt;/script&gt;</code></pre>

        </div>

        
            <div class="params">
                <h4>Parámetros:</h4>

                <ul class="params-list">
                
                    <li class="param">
                        
                            <code class="param-name">layer</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a> | <a href="../classes/SITNA.cfg.LayerOptions.html" class="crosslink">SITNA.cfg.LayerOptions</a></span>
                        

                        

                        <div class="param-description">
                            <p>Identificador de capa u objeto de opciones de capa.</p>

                        </div>

                        
                    </li>
                
                    <li class="param">
                        
                            <code class="param-name optional">[callback]</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                            <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                        

                        

                        <div class="param-description">
                            <p>Función a la que se llama tras ser añadida la capa.</p>

                        </div>

                        
                    </li>
                
                </ul>
            </div>
        

        

        
    </div>
</div>

        
            ﻿<a name="method_addMarker" class="anchor-link"></a>
<div class="method item">
    <h3 class="name"><code>addMarker</code>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>coords</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code class="optional">[options]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    
        <span class="flag async">async</span>
    

    </h3>

    <div class="meta">
        
            
                
                    <p>Proporcionado por el módulo <a href="../modules/2.3. Objeto de configuración global.html" class="module-name">2.3. Objeto de configuración global</a>.</p>
                
                <p style="display:none">
                
                Se define en
                
            
        
        
        <a href="../files/sitna.js.html#l3109"><code>sitna.js:3109</code></a>
        
        </p>


        

        
    </div>

    <div class="extended-detail">

        <div class="description">
            <p>Añade un marcador (un punto asociado a un icono) al mapa.</p>
<p>Puede consultar también online el <a href="../../examples/Map.addMarker.1.html">ejemplo 1</a>, el <a href="../../examples/Map.addMarker.2.html">ejemplo 2</a>,
el <a href="../../examples/Map.addMarker.3.html">ejemplo 3</a> y el <a href="../../examples/Map.addMarker.4.html">ejemplo 4</a>.</p>
<h4 id="ejemplo-1-">Ejemplo 1:</h4>
<pre class="code prettyprint"><code>&lt;div id=&quot;mapa&quot;&gt;&lt;/div&gt;
&lt;script&gt;
    // Crear mapa.
    var map = new SITNA.Map(&quot;mapa&quot;);

    // Cuando esté todo cargado proceder a trabajar con el mapa.
    map.loaded(function () {
        // Añadir un marcador.
        map.addMarker([610749, 4741648]);
        // Centrar el mapa en el marcador.
        map.zoomToMarkers();
    });
&lt;/script&gt;</code></pre>
<h4 id="ejemplo-2-">Ejemplo 2:</h4>
<pre class="code prettyprint"><code>&lt;div id=&quot;mapa&quot;&gt;&lt;/div&gt;
&lt;script&gt;
    // Crear mapa.
    var map = new SITNA.Map(&quot;mapa&quot;);

    // Cuando esté todo cargado proceder a trabajar con el mapa.
    map.loaded(function () {
        // Añadir marcadores al grupo &quot;Marcadores colgantes&quot;
        // cuyo icono se ancle al punto en el centro hacia abajo.
        // Establecer un icono adecuado.
        var markerOptions = {
            group: &quot;Marcadores colgantes&quot;,
            url: &quot;data/colgante.png&quot;,
            anchor: [0.5, 0]
        };
        map.addMarker([610887, 4741244], markerOptions);
        map.addMarker([615364, 4657556], markerOptions);
        // Centrar el mapa en los marcadores.
        map.zoomToMarkers();
    });
&lt;/script&gt;</code></pre>
<h4 id="ejemplo-3-">Ejemplo 3:</h4>
<pre class="code prettyprint"><code>&lt;div id=&quot;mapa&quot;&gt;&lt;/div&gt;
&lt;script&gt;
    // Crear un mapa con una capa vectorial, centrado en la Ciudadela de Pamplona.
    var map = new SITNA.Map(&quot;mapa&quot;, {
        initialExtent: [
            609627,
            4740225,
            611191,
            4741395
        ],
        workLayers: [{
            id: &quot;markers&quot;,
            title: &quot;Marcadores geográficos&quot;,
            type: SITNA.Consts.layerType.VECTOR
        }]
    });
    // Cuando esté todo cargado proceder a trabajar con el mapa.
    map.loaded(function () {
        // Añadir un marcador en la capa &quot;markers&quot;,
        // asignarle un grupo para que salga en tabla de contenidos y leyenda.
        map.addMarker([610431, 4740837], {
            layer: &quot;markers&quot;,
            group: &quot;Ciudadela&quot;
        });
    });
&lt;/script&gt;</code></pre>
<h4 id="ejemplo-4-">Ejemplo 4:</h4>
<pre class="code prettyprint"><code>&lt;div id=&quot;mapa&quot;&gt;&lt;/div&gt;
&lt;script&gt;
    // Añadir información emergente al mapa.
    SITNA.Cfg.controls.popup = true;

    // Crear un mapa.
    var map = new SITNA.Map(&quot;mapa&quot;);
    // Cuando esté todo cargado proceder a trabajar con el mapa.
    map.loaded(function () {
        // Añadir un marcador con un icono de 40x40 píxeles definido por la clase CSS kiosko.
        // Asignarle unos datos asociados que se muestren por defecto.
        map.addMarker([615366, 4657426], {
            cssClass: &quot;kiosko&quot;,
            width: 40,
            height: 40,
            data: {
                &quot;Nombre&quot;: &quot;Plaza de la Constitución, Tudela&quot;,
                &quot;Sitio web&quot;: &quot;http://www.tudela.es/&quot;
            },
            showPopup: true
        });
        // Centrar el mapa en el marcador.
        map.zoomToMarkers();
    });
&lt;/script&gt;</code></pre>

        </div>

        
            <div class="params">
                <h4>Parámetros:</h4>

                <ul class="params-list">
                
                    <li class="param">
                        
                            <code class="param-name">coords</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array" class="crosslink external" target="_blank">Array</a></span>
                        

                        

                        <div class="param-description">
                            <p>Coordenadas x e y del punto en las unidades del sistema de referencia del mapa.</p>

                        </div>

                        
                    </li>
                
                    <li class="param">
                        
                            <code class="param-name optional">[options]</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
                            <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                        

                        

                        <div class="param-description">
                            <p>Objeto de opciones de marcador.</p>

                        </div>

                        
                            <ul class="params-list">
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[group]</code>
                                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>Nombre de grupo en el que incluir el marcador. Estos grupos se muestran en la tabla de contenidos y en la leyenda.</p>
<p>Todos los marcadores pertenecientes al mismo grupo tienen el mismo icono. Los iconos se asignan automáticamente, rotando por la lista disponible en
SITNA.cfg.MarkerStyleOptions.<a href="../classes/SITNA.cfg.MarkerStyleOptions.html#property_classes" class="crosslink">classes</a>.</p>

                                    </div>

                                    
                                </li>
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[cssClass]</code>
                                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>Nombre de clase CSS. El marcador adoptará como icono el valor del atributo <code>background-image</code> de dicha clase.</p>

                                    </div>

                                    
                                </li>
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[url]</code>
                                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>URL de archivo de imagen que será el icono del marcador.</p>

                                    </div>

                                    
                                </li>
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[width]</code>
                                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>Anchura en píxeles del icono del marcador.</p>

                                    </div>

                                    
                                </li>
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[height]</code>
                                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>Altura en píxeles del icono del marcador.</p>

                                    </div>

                                    
                                </li>
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[anchor]</code>
                                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array" class="crosslink external" target="_blank">Array</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>Coordenadas proporcionales (entre 0 y 1) del punto de anclaje del icono al punto del mapa. La coordenada (0, 0) es la esquina superior izquierda del icono.</p>

                                    </div>

                                    
                                </li>
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[data]</code>
                                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>Objeto de datos en pares clave/valor para mostrar cuando se pulsa sobre el marcador. Si un valor es una URL, se mostrará como un enlace.</p>

                                    </div>

                                    
                                </li>
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[showPopup]</code>
                                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Boolean" class="crosslink external" target="_blank">Boolean</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>Si se establece a <code>true</code>, al añadirse el marcador al mapa se muestra con el bocadillo de información asociada visible por defecto.</p>

                                    </div>

                                    
                                </li>
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[layer]</code>
                                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>Identificador de capa de tipo SITNA.consts.LayerType.<a href="../classes/SITNA.consts.LayerType.html#property_VECTOR" class="crosslink">VECTOR</a> en la que se añadirá el marcador. Si no se especifica se creará una capa específica para marcadores.</p>

                                    </div>

                                    
                                </li>
                                
                            </ul>
                        
                    </li>
                
                </ul>
            </div>
        

        

        
    </div>
</div>

        
            ﻿<a name="method_exportImage" class="anchor-link"></a>
<div class="method item">
    <h3 class="name"><code>exportImage</code>

    
        <span class="paren">()</span>
    

    
        <span class="returns-inline">
            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
        </span>
    

    

    

    

    

    

    

    </h3>

    <div class="meta">
        
            
                
                    <p>Proporcionado por el módulo <a href="../modules/2.3. Objeto de configuración global.html" class="module-name">2.3. Objeto de configuración global</a>.</p>
                
                <p style="display:none">
                
                Se define en
                
            
        
        
        <a href="../files/sitna.js.html#l4119"><code>sitna.js:4119</code></a>
        
        </p>


        

        
    </div>

    <div class="extended-detail">

        <div class="description">
            <p>Exporta el mapa a una imagen PNG. Para poder utilizar este método hay que establecer la opción <code>crossOrigin</code> al instanciar <a href="../classes/SITNA.Map.html" class="crosslink">SITNA.Map</a>. </p>
<p>Puede consultar también el ejemplo <a href="../../examples/Map.exportImage.html">online</a>.</p>
<h4 id="ejemplo-">Ejemplo:</h4>
<pre class="code prettyprint"><code class="lang-javascript">          &lt;div id="controls" class="controls"&gt;
             &lt;button id="imageBtn"&gt;Exportar imagen&lt;/button&gt;
          &lt;/div&gt;
           &lt;div id="mapa"&gt;&lt;/div&gt;
           &lt;script&gt;
             // Crear un mapa con la opción de imágenes CORS habilitada.
             var map = new SITNA.Map("mapa", { crossOrigin: "anonymous" });

             var exportImage = function () {
               var dataUrl = map.exportImage();
               var image = document.createElement("img");
               image.setAttribute("src", dataUrl);
               image.style.width = &#39;25vw&#39;;
               var div = document.createElement("div");
               div.appendChild(image);
               document.getElementById("controls").appendChild(div);
             };

             document.getElementById("imageBtn").addEventListener("click", exportImage);
           &lt;/script&gt;</code></pre>

        </div>

        

        
            <div class="returns">
                <h4>Returns:</h4>

                <div class="returns-description">
                    
                        
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>:
                        
                        <p>Imagen en un <a href="https://developer.mozilla.org/es/docs/Web/HTTP/Basics_of_HTTP/Datos_URIs">data URI</a>.</p>

                    
                </div>
            </div>
        

        
    </div>
</div>

        
            ﻿<a name="method_getCommonwealths" class="anchor-link"></a>
<div class="method item">
    <h3 class="name"><code>getCommonwealths</code>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code class="optional">[callback]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    
        <span class="flag async">async</span>
    

    </h3>

    <div class="meta">
        
            
                
                    <p>Proporcionado por el módulo <a href="../modules/2.3. Objeto de configuración global.html" class="module-name">2.3. Objeto de configuración global</a>.</p>
                
                <p style="display:none">
                
                Se define en
                
            
        
        
        <a href="../files/sitna.js.html#l3556"><code>sitna.js:3556</code></a>
        
        </p>


        

        
    </div>

    <div class="extended-detail">

        <div class="description">
            <p>Obtiene los valores (id y label) de las mancomunidades de residuos disponibles en la capa de IDENA. </p>
<p>Puede consultar también online el <a href="../../examples/Map.getCommonwealths.html">ejemplo 1</a>. </p>
<h4 id="ejemplo-">Ejemplo:</h4>
<pre class="code prettyprint"><code class="lang-javascript"> &lt;div class=&quot;instructions divSelect&quot;&gt;
   &lt;div&gt;
     Mancomunidades de residuos
     &lt;select id=&quot;commonwealths&quot; onchange=&quot;applyFilter()&quot;&gt;
       &lt;option value=&quot;-1&quot;&gt;Seleccione...&lt;/option&gt;
     &lt;/select&gt;
   &lt;/div&gt;
 &lt;/div&gt;
 &lt;div id=&quot;mapa&quot;&gt;&lt;/div&gt;
 &lt;script&gt;
   // Crear mapa.
   var map = new SITNA.Map(&quot;mapa&quot;);
   map.loaded(function () {
     // completamos el desplegable
     map.getCommonwealths(function (data) {
       $.each(data, function (key, value) {
         $(&#39;#commonwealths&#39;).append($(&quot;&lt;option&gt;&lt;/option&gt;&quot;)
           .attr(&quot;value&quot;, value.id)
           .text(value.label));
         });
       });
     });
   // Establecer como filtro del mapa el valor seleccionado del desplegable que lance el evento change
   function applyFilter() {
     var id = $(&#39;#commonwealths&#39;).find(&#39;option:selected&#39;).val();
     if (id == -1)
       map.removeSearch();
     else {
       map.searchCommonwealth(id, function (idQuery) {
         if (idQuery == null)
           alert(&#39;No se han encontrado resultados&#39;);
       });
     }
   };
&lt;/script&gt;</code></pre>

        </div>

        
            <div class="params">
                <h4>Parámetros:</h4>

                <ul class="params-list">
                
                    <li class="param">
                        
                            <code class="param-name optional">[callback]</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                            <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                        

                        

                        <div class="param-description">
                            <p>Función a la que se llama tras obtener los datos.</p>

                        </div>

                        
                    </li>
                
                </ul>
            </div>
        

        

        
    </div>
</div>

        
            ﻿<a name="method_getCouncils" class="anchor-link"></a>
<div class="method item">
    <h3 class="name"><code>getCouncils</code>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code class="optional">[callback]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    
        <span class="flag async">async</span>
    

    </h3>

    <div class="meta">
        
            
                
                    <p>Proporcionado por el módulo <a href="../modules/2.3. Objeto de configuración global.html" class="module-name">2.3. Objeto de configuración global</a>.</p>
                
                <p style="display:none">
                
                Se define en
                
            
        
        
        <a href="../files/sitna.js.html#l3607"><code>sitna.js:3607</code></a>
        
        </p>


        

        
    </div>

    <div class="extended-detail">

        <div class="description">
            <p>Obtiene los valores (id y label) de los concejos disponibles en la capa de IDENA. </p>
<p>Puede consultar también online el <a href="../../examples/Map.getCouncils.html">ejemplo 1</a>. </p>
<h4 id="ejemplo-">Ejemplo:</h4>
<pre class="code prettyprint"><code class="lang-javascript"> &lt;div class=&quot;instructions divSelect&quot;&gt;
   &lt;div&gt;
     Concejos
     &lt;select id=&quot;council&quot; onchange=&quot;applyFilter()&quot;&gt;
       &lt;option value=&quot;-1&quot;&gt;Seleccione...&lt;/option&gt;
     &lt;/select&gt;
   &lt;/div&gt;
 &lt;/div&gt;
 &lt;div id=&quot;mapa&quot;&gt;&lt;/div&gt;
 &lt;script&gt;
   // Crear mapa.
   var map = new SITNA.Map(&quot;mapa&quot;);
   map.loaded(function () {
     // completamos el desplegable
     map.getCouncils(function (data) {
       $.each(data, function (key, value) {
         $(&#39;#council&#39;).append($(&quot;&lt;option&gt;&lt;/option&gt;&quot;)
           .attr(&quot;value&quot;, value.id)
           .text(value.label));
         });
       });
     });
   // Establecer como filtro del mapa el valor seleccionado del desplegable que lance el evento change
   function applyFilter() {
     var id = $(&#39;#council&#39;).find(&#39;option:selected&#39;).val();
     if (id == -1)
       map.removeSearch();
     else {
       map.searchCouncil(id, function (idQuery) {
         if (idQuery == null)
           alert(&#39;No se han encontrado resultados&#39;);
       });
     }
   };
&lt;/script&gt;</code></pre>

        </div>

        
            <div class="params">
                <h4>Parámetros:</h4>

                <ul class="params-list">
                
                    <li class="param">
                        
                            <code class="param-name optional">[callback]</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                            <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                        

                        

                        <div class="param-description">
                            <p>Función a la que se llama tras obtener los datos.</p>

                        </div>

                        
                    </li>
                
                </ul>
            </div>
        

        

        
    </div>
</div>

        
            ﻿<a name="method_getMunicipalities" class="anchor-link"></a>
<div class="method item">
    <h3 class="name"><code>getMunicipalities</code>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code class="optional">[callback]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    
        <span class="flag async">async</span>
    

    </h3>

    <div class="meta">
        
            
                
                    <p>Proporcionado por el módulo <a href="../modules/2.3. Objeto de configuración global.html" class="module-name">2.3. Objeto de configuración global</a>.</p>
                
                <p style="display:none">
                
                Se define en
                
            
        
        
        <a href="../files/sitna.js.html#l3454"><code>sitna.js:3454</code></a>
        
        </p>


        

        
    </div>

    <div class="extended-detail">

        <div class="description">
            <p>Obtiene los valores (id y label) de los municipios disponibles en la capa de IDENA.</p>
<p>Puede consultar también online el <a href="../../examples/Map.getMunicipalities.html">ejemplo 1</a>.</p>
<h4 id="ejemplo-">Ejemplo:</h4>
<pre class="code prettyprint"><code class="lang-javascript">  &lt;div class=&quot;instructions divSelect&quot;&gt;
    &lt;div&gt;
      Municipios
      &lt;select id=&quot;municipality&quot; onchange=&quot;applyFilter()&quot;&gt;
        &lt;option value=&quot;-1&quot;&gt;Seleccione...&lt;/option&gt;
      &lt;/select&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div id=&quot;mapa&quot;&gt;&lt;/div&gt;
  &lt;script&gt;
    // Crear mapa.
    var map = new SITNA.Map(&quot;mapa&quot;);
    map.loaded(function () {
      // completamos el desplegable
      map.getMunicipalities(function (data) {
        $.each(data, function (key, value) {
          $(&#39;#municipality&#39;).append($(&quot;&lt;option&gt;&lt;/option&gt;&quot;)
            .attr(&quot;value&quot;, value.id)
            .text(value.label));
          });
        });
      });
    // Establecer como filtro del mapa el valor seleccionado del desplegable que lance el evento change
    function applyFilter() {
      var id = $(&#39;#municipality&#39;).find(&#39;option:selected&#39;).val();
      if (id == -1)
        map.removeSearch();
      else {
        map.searchMunicipality(id, function (idQuery) {
          if (idQuery == null)
            alert(&#39;No se han encontrado resultados&#39;);
        });
      }
    };
 &lt;/script&gt;</code></pre>

        </div>

        
            <div class="params">
                <h4>Parámetros:</h4>

                <ul class="params-list">
                
                    <li class="param">
                        
                            <code class="param-name optional">[callback]</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                            <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                        

                        

                        <div class="param-description">
                            <p>Función a la que se llama tras obtener los datos.</p>

                        </div>

                        
                    </li>
                
                </ul>
            </div>
        

        

        
    </div>
</div>

        
            ﻿<a name="method_getUrbanAreas" class="anchor-link"></a>
<div class="method item">
    <h3 class="name"><code>getUrbanAreas</code>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code class="optional">[callback]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    
        <span class="flag async">async</span>
    

    </h3>

    <div class="meta">
        
            
                
                    <p>Proporcionado por el módulo <a href="../modules/2.3. Objeto de configuración global.html" class="module-name">2.3. Objeto de configuración global</a>.</p>
                
                <p style="display:none">
                
                Se define en
                
            
        
        
        <a href="../files/sitna.js.html#l3505"><code>sitna.js:3505</code></a>
        
        </p>


        

        
    </div>

    <div class="extended-detail">

        <div class="description">
            <p>Obtiene los valores (id y label) de los cascos urbanos disponibles en la capa de IDENA.</p>
<p>Puede consultar también online el <a href="../../examples/Map.getUrbanAreas.html">ejemplo 1</a>.</p>
<h4 id="ejemplo-">Ejemplo:</h4>
<pre class="code prettyprint"><code class="lang-javascript">  &lt;div class=&quot;instructions divSelect&quot;&gt;
   &lt;div&gt;
     Cascos urbanos
     &lt;select id=&quot;urban&quot; onchange=&quot;applyFilter()&quot;&gt;
       &lt;option value=&quot;-1&quot;&gt;Seleccione...&lt;/option&gt;
     &lt;/select&gt;
   &lt;/div&gt;
  &lt;/div&gt;
  &lt;div id=&quot;mapa&quot;&gt;&lt;/div&gt;
  &lt;script&gt;
   // Crear mapa.
   var map = new SITNA.Map(&quot;mapa&quot;);
   map.loaded(function () {
     // completamos el desplegable
     map.getUrbanAreas(function (data) {
       $.each(data, function (key, value) {
         $(&#39;#urban&#39;).append($(&quot;&lt;option&gt;&lt;/option&gt;&quot;)
            .attr(&quot;value&quot;, value.id)
            .text(value.label));
         });
       });
     });
   // Establecer como filtro del mapa el valor seleccionado del desplegable que lance el evento change
   function applyFilter() {
     var id = $(&#39;#urban&#39;).find(&#39;option:selected&#39;).val();
     if (id == -1)
       map.removeSearch();
     else {
       map.searchUrbanArea(id, function (idQuery) {
         if (idQuery == null)
           alert(&#39;No se han encontrado resultados&#39;);
       });
     }
   };
  &lt;/script&gt;</code></pre>

        </div>

        
            <div class="params">
                <h4>Parámetros:</h4>

                <ul class="params-list">
                
                    <li class="param">
                        
                            <code class="param-name optional">[callback]</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                            <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                        

                        

                        <div class="param-description">
                            <p>Función a la que se llama tras obtener los datos.</p>

                        </div>

                        
                    </li>
                
                </ul>
            </div>
        

        

        
    </div>
</div>

        
            ﻿<a name="method_loaded" class="anchor-link"></a>
<div class="method item">
    <h3 class="name"><code>loaded</code>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>callback</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    
        <span class="flag async">async</span>
    

    </h3>

    <div class="meta">
        
            
                
                    <p>Proporcionado por el módulo <a href="../modules/2.3. Objeto de configuración global.html" class="module-name">2.3. Objeto de configuración global</a>.</p>
                
                <p style="display:none">
                
                Se define en
                
            
        
        
        <a href="../files/sitna.js.html#l3285"><code>sitna.js:3285</code></a>
        
        </p>


        

        
    </div>

    <div class="extended-detail">

        <div class="description">
            <p>Añade una función de callback que se ejecutará cuando el mapa, sus controles y todas sus capas se hayan cargado.</p>
<h4 id="ejemplo-">Ejemplo:</h4>
<pre class="code prettyprint"><code class="lang-javascript">   // Notificar cuando se haya cargado el mapa.
   map.loaded(function () { 
     console.log(&quot;Código del mapa y de sus controles cargado, cargando datos...&quot;);
   });</code></pre>

        </div>

        
            <div class="params">
                <h4>Parámetros:</h4>

                <ul class="params-list">
                
                    <li class="param">
                        
                            <code class="param-name">callback</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                        

                        

                        <div class="param-description">
                            <p>Función a la que se llama tras la carga del mapa.</p>

                        </div>

                        
                    </li>
                
                </ul>
            </div>
        

        

        
    </div>
</div>

        
            ﻿<a name="method_removeSearch" class="anchor-link"></a>
<div class="method item">
    <h3 class="name"><code>removeSearch</code>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code class="optional">[callback]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    
        <span class="flag async">async</span>
    

    </h3>

    <div class="meta">
        
            
                
                    <p>Proporcionado por el módulo <a href="../modules/2.3. Objeto de configuración global.html" class="module-name">2.3. Objeto de configuración global</a>.</p>
                
                <p style="display:none">
                
                Se define en
                
            
        
        
        <a href="../files/sitna.js.html#l4048"><code>sitna.js:4048</code></a>
        
        </p>


        

        
    </div>

    <div class="extended-detail">

        <div class="description">
            <p>Elimina del mapa la entidad geográfica encontrada. </p>
<p>Puede consultar también online el <a href="../../examples/Map.removeSearch.html">ejemplo 1</a>. </p>
<h4 id="ejemplo-">Ejemplo:</h4>
<pre class="code prettyprint"><code class="lang-javascript"> &lt;div class=&quot;instructions query&quot;&gt;
    &lt;div&gt;&lt;label&gt;Capa&lt;/label&gt;&lt;input type=&quot;text&quot; id=&quot;capa&quot; placeholder=&quot;Nombre capa de IDENA&quot; /&gt; &lt;/div&gt;
    &lt;div&gt;&lt;label&gt;Campo&lt;/label&gt;&lt;input type=&quot;text&quot; id=&quot;campo&quot; placeholder=&quot;Nombre campo&quot; /&gt; &lt;/div&gt;
    &lt;div&gt;&lt;label&gt;Valor&lt;/label&gt;&lt;input type=&quot;text&quot; id=&quot;valor&quot; placeholder=&quot;Valor a encontrar&quot; /&gt; &lt;/div&gt;
    &lt;div&gt;&lt;button id=&quot;searchBtn&quot;&gt;Buscar&lt;/button&gt;&lt;/div&gt;
    &lt;div&gt;&lt;button id=&quot;removeBtn&quot;&gt;Eliminar filtro&lt;/button&gt;&lt;/div&gt;
  &lt;/div&gt;
  &lt;div id=&quot;mapa&quot;&gt;&lt;/div&gt;
  &lt;script&gt;
    // Crear mapa.
    var map = new SITNA.Map(&quot;mapa&quot;);

    map.loaded(function () {
      document.getElementById(&quot;addFilterBtn&quot;).addEventListener(&quot;click&quot;, addFilter);
      document.getElementById(&quot;removeFilterBtn&quot;).addEventListener(&quot;click&quot;, removeFilter);
    });

    // Establecer como filtro del mapa el municipio Valle de Egüés
    var addFilter = function () {
      var capa = document.getElementById(&quot;capa&quot;).value;
      capa = capa.trim();

     var campo = document.getElementById(&quot;campo&quot;).value;
      campo = campo.trim();

      var valor = document.getElementById(&quot;valor&quot;).value;
      valor = valor.trim();

      map.searchFeature(capa, campo, valor, function (idQuery) {
        if (idQuery == null) {
          alert(&quot;No se han encontrado resultados en la capa: &quot; + capa + &quot; en el campo: &quot; + campo + &quot; el valor: &quot; + valor + &quot;.&quot;);
        }
      });
    };

    // Limpiar el mapa del filtro
    var remove = function () {
      map.removeSearch();
    };
  &lt;/script&gt;</code></pre>

        </div>

        
            <div class="params">
                <h4>Parámetros:</h4>

                <ul class="params-list">
                
                    <li class="param">
                        
                            <code class="param-name optional">[callback]</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                            <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                        

                        

                        <div class="param-description">
                            <p>Función a la que se llama tras eliminar la entidad geográfica.</p>

                        </div>

                        
                    </li>
                
                </ul>
            </div>
        

        

        
    </div>
</div>

        
            ﻿<a name="method_searchCommonwealth" class="anchor-link"></a>
<div class="method item">
    <h3 class="name"><code>searchCommonwealth</code>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>id</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code class="optional">[callback]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    
        <span class="flag async">async</span>
    

    </h3>

    <div class="meta">
        
            
                
                    <p>Proporcionado por el módulo <a href="../modules/2.3. Objeto de configuración global.html" class="module-name">2.3. Objeto de configuración global</a>.</p>
                
                <p style="display:none">
                
                Se define en
                
            
        
        
        <a href="../files/sitna.js.html#l3658"><code>sitna.js:3658</code></a>
        
        </p>


        

        
    </div>

    <div class="extended-detail">

        <div class="description">
            <p>Busca la mancomunidad de residuos y pinta en el mapa la entidad geográfica encontrada que corresponda al identificador indicado.</p>
<p>Puede consultar también online el <a href="../../examples/Map.searchCommonwealth.html">ejemplo 1</a>. </p>
<h4 id="ejemplo-">Ejemplo:</h4>
<pre class="code prettyprint"><code class="lang-javascript">    &lt;div class=&quot;instructions searchCommonwealth&quot;&gt;    
      &lt;div&gt;&lt;button id=&quot;searchPamplonaBtn&quot;&gt;Buscar Mancomunidad de la Comarca de Pamplona&lt;/button&gt;&lt;/div&gt;    
    &lt;/div&gt;
    &lt;div id=&quot;mapa&quot;&gt;&lt;/div&gt;
    &lt;script&gt;
      // Crear mapa.
      var map = new SITNA.Map(&quot;mapa&quot;);
      map.loaded(function () {
        document.getElementById(&quot;searchPamplonaBtn&quot;).addEventListener(&quot;click&quot;, search);
      });

      var search = function () {
        map.removeSearch();
        map.searchCommonwealth(&quot;8&quot;, function (idQuery) {
          if (idQuery == null) {
            alert(&quot;No se ha encontrado la mancomunidad con código 8.&quot;);
          }
        });
      };
    &lt;/script&gt;</code></pre>

        </div>

        
            <div class="params">
                <h4>Parámetros:</h4>

                <ul class="params-list">
                
                    <li class="param">
                        
                            <code class="param-name">id</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                        

                        

                        <div class="param-description">
                            <p>Identificador de la entidad geográfica a pintar.</p>

                        </div>

                        
                    </li>
                
                    <li class="param">
                        
                            <code class="param-name optional">[callback]</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                            <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                        

                        

                        <div class="param-description">
                            <p>Función a la que se llama tras aplicar el filtro.</p>

                        </div>

                        
                    </li>
                
                </ul>
            </div>
        

        

        
    </div>
</div>

        
            ﻿<a name="method_searchCouncil" class="anchor-link"></a>
<div class="method item">
    <h3 class="name"><code>searchCouncil</code>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>id</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code class="optional">[callback]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    
        <span class="flag async">async</span>
    

    </h3>

    <div class="meta">
        
            
                
                    <p>Proporcionado por el módulo <a href="../modules/2.3. Objeto de configuración global.html" class="module-name">2.3. Objeto de configuración global</a>.</p>
                
                <p style="display:none">
                
                Se define en
                
            
        
        
        <a href="../files/sitna.js.html#l3696"><code>sitna.js:3696</code></a>
        
        </p>


        

        
    </div>

    <div class="extended-detail">

        <div class="description">
            <p>Busca el concejo que corresponda con el identificador pasado como parámetro y pinta la entidad geográfica encontrada en el mapa.</p>
<p>Puede consultar también online el <a href="../../examples/Map.searchCouncil.html">ejemplo 1</a>. </p>
<h4 id="ejemplo-">Ejemplo:</h4>
<pre class="code prettyprint"><code class="lang-javascript">     &lt;div class=&quot;instructions search&quot;&gt;    
      &lt;div&gt;&lt;button id=&quot;searchBtn&quot;&gt;Buscar concejo Esquíroz (Galar)&lt;/button&gt;&lt;/div&gt;    
     &lt;/div&gt;
     &lt;div id=&quot;mapa&quot;&gt;&lt;/div&gt;
     &lt;script&gt;
      // Crear mapa.
      var map = new SITNA.Map(&quot;mapa&quot;);
      map.loaded(function () {
        document.getElementById(&quot;searchBtn&quot;).addEventListener(&quot;click&quot;, search);
      });

      var search = function () {
        map.removeSearch();
        map.searchCouncil(&quot;109#5&quot;, function (idQuery) {
          if (idQuery == null) {
              alert(&quot;No se ha encontrado el concejo con código 109#5.&quot;);
          }
        });
      };    
     &lt;/script&gt;</code></pre>

        </div>

        
            <div class="params">
                <h4>Parámetros:</h4>

                <ul class="params-list">
                
                    <li class="param">
                        
                            <code class="param-name">id</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                        

                        

                        <div class="param-description">
                            <p>Identificador de la entidad geográfica a pintar.</p>

                        </div>

                        
                    </li>
                
                    <li class="param">
                        
                            <code class="param-name optional">[callback]</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                            <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                        

                        

                        <div class="param-description">
                            <p>Función a la que se llama tras aplicar el filtro.</p>

                        </div>

                        
                    </li>
                
                </ul>
            </div>
        

        

        
    </div>
</div>

        
            ﻿<a name="method_searchFeature" class="anchor-link"></a>
<div class="method item">
    <h3 class="name"><code>searchFeature</code>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>layer</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>field</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>id</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code class="optional">[callback]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    
        <span class="flag async">async</span>
    

    </h3>

    <div class="meta">
        
            
                
                    <p>Proporcionado por el módulo <a href="../modules/2.3. Objeto de configuración global.html" class="module-name">2.3. Objeto de configuración global</a>.</p>
                
                <p style="display:none">
                
                Se define en
                
            
        
        
        <a href="../files/sitna.js.html#l3896"><code>sitna.js:3896</code></a>
        
        </p>


        

        
    </div>

    <div class="extended-detail">

        <div class="description">
            <p>Busca y pinta en el mapa la entidad geográfica encontrada correspondiente al identificador establecido.</p>
<p>Puede consultar también online el <a href="../../examples/Map.searchFeature.html">ejemplo 1</a>. </p>
<h4 id="ejemplo-">Ejemplo:</h4>
<pre class="code prettyprint"><code class="lang-javascript">    &lt;div class=&quot;instructions query&quot;&gt;
       &lt;div&gt;&lt;label&gt;Capa&lt;/label&gt;&lt;input type=&quot;text&quot; id=&quot;capa&quot; placeholder=&quot;Nombre capa de IDENA&quot; /&gt; &lt;/div&gt;
       &lt;div&gt;&lt;label&gt;Campo&lt;/label&gt;&lt;input type=&quot;text&quot; id=&quot;campo&quot; placeholder=&quot;Nombre campo&quot; /&gt; &lt;/div&gt;
       &lt;div&gt;&lt;label&gt;Valor&lt;/label&gt;&lt;input type=&quot;text&quot; id=&quot;valor&quot; placeholder=&quot;Valor a encontrar&quot; /&gt; &lt;/div&gt;
       &lt;div&gt;&lt;button id=&quot;searchBtn&quot;&gt;Buscar&lt;/button&gt;&lt;/div&gt;
       &lt;div&gt;&lt;button id=&quot;removeBtn&quot;&gt;Eliminar filtro&lt;/button&gt;&lt;/div&gt;
     &lt;/div&gt;
     &lt;div id=&quot;mapa&quot;&gt;&lt;/div&gt;
     &lt;script&gt;
       // Crear mapa.
        var map = new SITNA.Map(&quot;mapa&quot;);

        map.loaded(function () {
          document.getElementById(&quot;searchBtn&quot;).addEventListener(&quot;click&quot;, search);
          document.getElementById(&quot;removeBtn&quot;).addEventListener(&quot;click&quot;, remove);
        });

        var search = function () {
          var capa = document.getElementById(&quot;capa&quot;).value;
          capa = capa.trim();

          var campo = document.getElementById(&quot;campo&quot;).value;
          campo = campo.trim();

          var valor = document.getElementById(&quot;valor&quot;).value;
          valor = valor.trim();

          map.searchFeature(capa, campo, valor, function (idQuery) {
            if (idQuery == null) {
              alert(&quot;No se han encontrado resultados en la capa: &quot; + capa + &quot; en el campo: &quot; + campo + &quot; el valor: &quot; + valor + &quot;.&quot;);
            }
          });
        };

        // Limpiar el mapa 
        var remove = function () {
          map.removeSearch();
        };
     &lt;/script&gt;</code></pre>

        </div>

        
            <div class="params">
                <h4>Parámetros:</h4>

                <ul class="params-list">
                
                    <li class="param">
                        
                            <code class="param-name">layer</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                        

                        

                        <div class="param-description">
                            <p>Capa de IDENA en la cual buscar.</p>

                        </div>

                        
                    </li>
                
                    <li class="param">
                        
                            <code class="param-name">field</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                        

                        

                        <div class="param-description">
                            <p>Campo de la capa de IDENA en el cual buscar.</p>

                        </div>

                        
                    </li>
                
                    <li class="param">
                        
                            <code class="param-name">id</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                        

                        

                        <div class="param-description">
                            <p>Identificador de la entidad geográfica por el cual filtrar.</p>

                        </div>

                        
                    </li>
                
                    <li class="param">
                        
                            <code class="param-name optional">[callback]</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                            <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                        

                        

                        <div class="param-description">
                            <p>Función a la que se llama tras aplicar el filtro.</p>

                        </div>

                        
                    </li>
                
                </ul>
            </div>
        

        

        
    </div>
</div>

        
            ﻿<a name="method_searchMunicipality" class="anchor-link"></a>
<div class="method item">
    <h3 class="name"><code>searchMunicipality</code>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>id</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code class="optional">[callback]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    
        <span class="flag async">async</span>
    

    </h3>

    <div class="meta">
        
            
                
                    <p>Proporcionado por el módulo <a href="../modules/2.3. Objeto de configuración global.html" class="module-name">2.3. Objeto de configuración global</a>.</p>
                
                <p style="display:none">
                
                Se define en
                
            
        
        
        <a href="../files/sitna.js.html#l3769"><code>sitna.js:3769</code></a>
        
        </p>


        

        
    </div>

    <div class="extended-detail">

        <div class="description">
            <p>Busca el municipio que corresponda con el identificador pasado como parámetro y pinta la entidad geográfica encontrada en el mapa.</p>
<p>Puede consultar también online el <a href="../../examples/Map.searchMunicipality.html">ejemplo 1</a>. </p>
<h4 id="ejemplo-">Ejemplo:</h4>
<pre class="code prettyprint"><code class="lang-javascript">     &lt;div class=&quot;instructions search&quot;&gt;
      &lt;div&gt;&lt;button id=&quot;searchBtn&quot;&gt;Buscar Arbizu&lt;/button&gt;&lt;/div&gt;
     &lt;/div&gt;
     &lt;div id=&quot;mapa&quot;&gt;&lt;/div&gt;
     &lt;script&gt;
      // Crear mapa.
      var map = new SITNA.Map(&quot;mapa&quot;);
      map.loaded(function () {
        document.getElementById(&quot;searchBtn&quot;).addEventListener(&quot;click&quot;, search);
      });

      var search = function () {
         map.removeSearch();
         map.searchCouncil(&quot;27&quot;, function (idQuery) {
          if (idQuery == null) {
            alert(&quot;No se ha encontrado el municipio con código 27.&quot;);
          }
         });
      };
     &lt;/script&gt;</code></pre>

        </div>

        
            <div class="params">
                <h4>Parámetros:</h4>

                <ul class="params-list">
                
                    <li class="param">
                        
                            <code class="param-name">id</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                        

                        

                        <div class="param-description">
                            <p>Identificador de la entidad geográfica a pintar.</p>

                        </div>

                        
                    </li>
                
                    <li class="param">
                        
                            <code class="param-name optional">[callback]</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                            <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                        

                        

                        <div class="param-description">
                            <p>Función a la que se llama tras aplicar el filtro.</p>

                        </div>

                        
                    </li>
                
                </ul>
            </div>
        

        

        
    </div>
</div>

        
            ﻿<a name="method_searchUrbanArea" class="anchor-link"></a>
<div class="method item">
    <h3 class="name"><code>searchUrbanArea</code>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>id</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code class="optional">[callback]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    
        <span class="flag async">async</span>
    

    </h3>

    <div class="meta">
        
            
                
                    <p>Proporcionado por el módulo <a href="../modules/2.3. Objeto de configuración global.html" class="module-name">2.3. Objeto de configuración global</a>.</p>
                
                <p style="display:none">
                
                Se define en
                
            
        
        
        <a href="../files/sitna.js.html#l3733"><code>sitna.js:3733</code></a>
        
        </p>


        

        
    </div>

    <div class="extended-detail">

        <div class="description">
            <p>Busca el casco urbano que corresponda con el identificador pasado como parámetro y pinta la entidad geográfica encontrada en el mapa.</p>
<p>Puede consultar también online el <a href="../../examples/Map.searchUrbanArea.html">ejemplo 1</a>. </p>
<h4 id="ejemplo-">Ejemplo:</h4>
<pre class="code prettyprint"><code class="lang-javascript">    &lt;div class=&quot;instructions search&quot;&gt;
    &lt;div&gt;&lt;button id=&quot;searchBtn&quot;&gt;Buscar casco urbano de Arbizu&lt;/button&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;div id=&quot;mapa&quot;&gt;&lt;/div&gt;
    &lt;script&gt;
      // Crear mapa.
      var map = new SITNA.Map(&quot;mapa&quot;);
      map.loaded(function () {
        document.getElementById(&quot;searchBtn&quot;).addEventListener(&quot;click&quot;, search);
      });
      var search = function () {
        map.removeSearch();
        map.searchUrbanArea(&quot;27&quot;, function (idQuery) {
          if (idQuery == null) {
            alert(&quot;No se ha encontrado el casco urbano con código 27.&quot;);
          }
        });
      };
    &lt;/script&gt;</code></pre>

        </div>

        
            <div class="params">
                <h4>Parámetros:</h4>

                <ul class="params-list">
                
                    <li class="param">
                        
                            <code class="param-name">id</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                        

                        

                        <div class="param-description">
                            <p>Identificador de la entidad geográfica a pintar.</p>

                        </div>

                        
                    </li>
                
                    <li class="param">
                        
                            <code class="param-name optional">[callback]</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                            <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                        

                        

                        <div class="param-description">
                            <p>Función a la que se llama tras aplicar el filtro.</p>

                        </div>

                        
                    </li>
                
                </ul>
            </div>
        

        

        
    </div>
</div>

        
            ﻿<a name="method_setBaseLayer" class="anchor-link"></a>
<div class="method item">
    <h3 class="name"><code>setBaseLayer</code>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>layer</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code class="optional">[callback]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    
        <span class="flag async">async</span>
    

    </h3>

    <div class="meta">
        
            
                
                    <p>Proporcionado por el módulo <a href="../modules/2.3. Objeto de configuración global.html" class="module-name">2.3. Objeto de configuración global</a>.</p>
                
                <p style="display:none">
                
                Se define en
                
            
        
        
        <a href="../files/sitna.js.html#l3062"><code>sitna.js:3062</code></a>
        
        </p>


        

        
    </div>

    <div class="extended-detail">

        <div class="description">
            <p>Hace visible una capa como mapa de fondo. Esta capa debe existir previamente en la lista de mapas de fondo del mapa.</p>
<p>Puede consultar también online el <a href="../../examples/Map.setBaseLayer.1.html">ejemplo 1</a> y el <a href="../../examples/Map.setBaseLayer.2.html">ejemplo 2</a>.</p>
<h4 id="ejemplo-1-">Ejemplo 1:</h4>
<pre class="code prettyprint"><code class="lang-javascript">  &lt;div id=&quot;mapa&quot;&gt;&lt;/div&gt;
  &lt;script&gt;
    // Crear mapa con opciones por defecto. Esto incluye la capa del catastro de Navarra entre los mapas de fondo.
    var map = new SITNA.Map(&quot;mapa&quot;);
    // Cuando esté todo cargado establecer como mapa de fondo visible el catastro de Navarra.
    map.loaded(function () {
      map.setBaseLayer(SITNA.Consts.layer.IDENA_CADASTER);
    });
  &lt;/script&gt;</code></pre>
<h4 id="ejemplo-2-">Ejemplo 2:</h4>
<pre class="code prettyprint"><code class="lang-javascript">  &lt;div id=&quot;mapa&quot;&gt;&lt;/div&gt;
  &lt;script&gt;
    // Crear mapa con opciones por defecto.
    var map = new SITNA.Map(&quot;mapa&quot;);
    // Cuando el mapa esté cargado, añadir la ortofoto de 1956/1957 como mapa de fondo y establecerla como mapa de fondo visible.
    map.loaded(function () {
      map.addLayer({
        id: &quot;orto_56_57&quot;,
        title: &quot;Ortofoto de 1956/1957&quot;,
        url: &quot;http://idena.navarra.es/ogc/wms&quot;,
        layerNames: &quot;ortofoto_10000_1957&quot;,
        isBase: true
      }, function () {
        map.setBaseLayer(&quot;orto_56_57&quot;);
      });
    });
  &lt;/script&gt;</code></pre>

        </div>

        
            <div class="params">
                <h4>Parámetros:</h4>

                <ul class="params-list">
                
                    <li class="param">
                        
                            <code class="param-name">layer</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a> | <a href="../classes/SITNA.cfg.LayerOptions.html" class="crosslink">SITNA.cfg.LayerOptions</a></span>
                        

                        

                        <div class="param-description">
                            <p>Identificador de capa u objeto de opciones de capa.</p>

                        </div>

                        
                    </li>
                
                    <li class="param">
                        
                            <code class="param-name optional">[callback]</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                            <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                        

                        

                        <div class="param-description">
                            <p>Función al que se llama tras ser establecida la capa como mapa de fondo.</p>

                        </div>

                        
                    </li>
                
                </ul>
            </div>
        

        

        
    </div>
</div>

        
            ﻿<a name="method_zoomToMarkers" class="anchor-link"></a>
<div class="method item">
    <h3 class="name"><code>zoomToMarkers</code>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code class="optional">[options]</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    
        <span class="flag async">async</span>
    

    </h3>

    <div class="meta">
        
            
                
                    <p>Proporcionado por el módulo <a href="../modules/2.3. Objeto de configuración global.html" class="module-name">2.3. Objeto de configuración global</a>.</p>
                
                <p style="display:none">
                
                Se define en
                
            
        
        
        <a href="../files/sitna.js.html#l3234"><code>sitna.js:3234</code></a>
        
        </p>


        

        
    </div>

    <div class="extended-detail">

        <div class="description">
            <p>Centra y escala el mapa a la extensión que ocupan todos sus marcadores.</p>
<p>Puede consultar también el ejemplo <a href="../../examples/Map.zoomToMarkers.html">online</a>.</p>
<h4 id="ejemplo-">Ejemplo:</h4>
<pre class="code prettyprint"><code class="lang-javascript">  &lt;div class=&quot;controls&quot;&gt;
    &lt;div&gt;&lt;button id=&quot;addMarkerBtn&quot;&gt;Añadir marcador aleatorio&lt;/button&gt;&lt;/div&gt;
    &lt;div&gt;&lt;input type=&quot;number&quot; step=&quot;1&quot; id=&quot;pbrVal&quot; value=&quot;30&quot; /&gt; &lt;label for=&quot;pbrVal&quot;&gt;pointBoundsRadius&lt;/label&gt;&lt;/div&gt;
    &lt;div&gt;&lt;input type=&quot;number&quot; step=&quot;0.1&quot; id=&quot;emVal&quot; value=&quot;0.2&quot; /&gt; &lt;label for=&quot;emVal&quot;&gt;extentMargin&lt;/label&gt;&lt;/div&gt;
    &lt;div&gt;&lt;button id=&quot;zoomBtn&quot;&gt;Hacer zoom a los marcadores&lt;/button&gt;&lt;/div&gt;
  &lt;/div&gt;
  &lt;div id=&quot;mapa&quot;&gt;&lt;/div&gt;
  &lt;script&gt;
    // Crear mapa.
    var map = new SITNA.Map(&quot;mapa&quot;);

    // Añadir un marcador en un punto aleatorio
    var addRandomMarker = function () {
      var xmin = SITNA.Cfg.initialExtent[0];
      var ymin = SITNA.Cfg.initialExtent[1];
      var width = SITNA.Cfg.initialExtent[2] - SITNA.Cfg.initialExtent[0];
      var height = SITNA.Cfg.initialExtent[3] - SITNA.Cfg.initialExtent[1];
      map.addMarker([xmin + Math.random() width, ymin + Math.random() height]);
    };

    // Hacer zoom a los marcadores con las opciones elegidas
    var zoomToMarkers = function () {
      map.zoomToMarkers({
        pointBoundsRadius: parseInt(document.getElementById(&quot;pbrVal&quot;).value),
        extentMargin: parseFloat(document.getElementById(&quot;emVal&quot;).value)
      });
    };

    document.getElementById(&quot;addMarkerBtn&quot;).addEventListener(&quot;click&quot;, addRandomMarker);
    document.getElementById(&quot;zoomBtn&quot;).addEventListener(&quot;click&quot;, zoomToMarkers);
  &lt;/script&gt;</code></pre>

        </div>

        
            <div class="params">
                <h4>Parámetros:</h4>

                <ul class="params-list">
                
                    <li class="param">
                        
                            <code class="param-name optional">[options]</code>
                            <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
                            <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                        

                        

                        <div class="param-description">
                            <p>Objeto de opciones de zoom.</p>

                        </div>

                        
                            <ul class="params-list">
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[pointBoundsRadius=30]</code>
                                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>Radio en metros del área alrededor del marcador que se respetará al hacer zoom. Por defecto es 30.</p>

                                    </div>

                                    
                                </li>
                                
                                <li class="param">
                                    
                                        <code class="param-name optional">[extentMargin=0.2]</code>
                                        <span class="type"><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                                        <span class="flag optional" title="Este parámetro es opcional.">optional</span>
                                    

                                    <div class="param-description">
                                        <p>Tamaño del margen que se aplicará a la extensión total de todas los marcadores.
El valor es la relación de crecimiento en ancho y alto entre la extensión resultante y la original. Por ejemplo, el valor por defecto 0,2 indica un crecimiento del 20% de la extensión, 10% por cada lado.</p>

                                    </div>

                                    
                                </li>
                                
                            </ul>
                        
                    </li>
                
                </ul>
            </div>
        

        

        
    </div>
</div>

        

        <div class="no-visible-items-message">
            <p>No hay métodos que cumplan la configuración actual de filtro. Puede cambiar la configuración de filtro en la sección "Índice" de esta página. <a href="#index" class="index-jump-link">índice</a></p>
        </div>

    </div>




</div>


            </div>
        </div>

    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/vendor/jquery.min.js"></script>
<script src="../assets/js/jquery-offscreen-trigger.js"></script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
