TC.control=TC.control||{};TC.control.Container||TC.syncLoadJS(TC.apiLocation+"TC/Control/Container");TC.control.TabContainer=function(){TC.control.Container.apply(this,arguments);var t=this._classSelector="."+this.CLASS;this._selectors={TAB:t+"-tab",RADIOBUTTON:`input[type=radio][name="${this.id}-sel"]`,ELEMENT:t+"-elm"}};TC.inherit(TC.control.TabContainer,TC.control.Container);!function(){var t=TC.control.TabContainer.prototype;t.CLASS="tc-ctl-tctr";t.template={1:function(t,e,n,o,l,r,s){var c=t.lambda,a=t.escapeExpression,i=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<label class="tc-ctl-tctr-tab tc-ctl-tctr-tab-'+a(c(l&&i(l,"index"),e))+'" style="width:calc(100%/'+a(c(null!=s[1]?i(s[1],"count"):s[1],e))+' - 1px)"><input type="radio" name="'+a(c(null!=s[1]?i(s[1],"controlId"):s[1],e))+'-sel" value="'+a(c(l&&i(l,"index"),e))+'" /><span>'+a(c(null!=e?i(e,"title"):e,e))+"</span></label>"},3:function(t,e,n,o,l){var r=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="tc-ctl-tctr-elm tc-ctl-tctr-elm-'+t.escapeExpression(t.lambda(l&&r(l,"index"),e))+' tc-hidden">\r\n</div>\r\n'},compiler:[8,">= 4.3.0"],main:function(t,e,n,o,l,r,s){var c,a=null!=e?e:t.nullContext||{},i=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"<h2>"+t.escapeExpression(t.lambda(null!=e?i(e,"title"):e,e))+'</h2>\r\n<div class="tc-ctl-tctr-select">\r\n'+(null!=(c=i(n,"each").call(a,null!=e?i(e,"controls"):e,{name:"each",hash:{},fn:t.program(1,l,0,r,s),inverse:t.noop,data:l,loc:{start:{line:3,column:4},end:{line:5,column:14}}}))?c:"")+"</div>\r\n"+(null!=(c=i(n,"each").call(a,null!=e?i(e,"controls"):e,{name:"each",hash:{},fn:t.program(3,l,0,r,s),inverse:t.noop,data:l,loc:{start:{line:7,column:0},end:{line:10,column:9}}}))?c:"")},useData:!0,useDepths:!0};t.onRender=function(){const t=this;return new Promise(function(e,n){t.title=t.title||t.getLocaleString(t.options.title||"moreControls");t.div.querySelector("h2").innerHTML=t.title;for(var o=new Array(t.ctlCount),l=0,r=t.controlOptions.length;l<r;l++){var s=t.controlOptions[l],c="",a={};if(void 0!==s.name&&void 0!==s.options){console.log("Gestionamos config de tabContainer antiguo");c=s.name;a=s.options}else a=s[c=Object.keys(s).filter(t=>"title"!==t)[0]];o[l]=t.map.addControl(c,TC.Util.extend({id:t.uids[l],div:t.div.querySelector("."+t.CLASS+"-elm-"+l)},a))}var i=function(e,n){e.renderPromise().then(function(){const o=t.getLocaleString(t.controlOptions[n].title)||e.div.querySelector("h2").innerHTML;var l=e.div;do{l=l.parentElement}while(l&&!l.matches(t._classSelector));l.querySelector(t._selectors.TAB+"-"+n+" span").innerHTML=o})};Promise.all(o).then(function(n){for(var o=0,l=n.length;o<l;o++){var r=n[o];r.containerControl=t;i(r,o)}e(t)})})};t.render=function(t){const e=this;return e._set1stRenderPromise(e.renderData({controlId:e.id,title:e.title,controls:e.controlOptions,count:e.controlOptions.length},function(){var t=function(t){for(var n=this;n&&!n.matches(e._selectors.TAB);)n=n.parentElement;var o,l=[];const r=n.querySelector(e._selectors.RADIOBUTTON),s=r.value,c=e.div.querySelectorAll(e._selectors.ELEMENT);if(e._oldValue===s&&e.options.deselectable){setTimeout(function(){r.checked=!1},0);e._oldValue=null;o=null;l=c}else{c.forEach(function(t){t.matches(e._selectors.ELEMENT+"-"+s)?o=t:l.push(t)});e._oldValue=s}if(o&&o.classList.contains(TC.Consts.classes.COLLAPSED)){o.classList.remove(TC.Consts.classes.COLLAPSED);new MutationObserver(function(t){t.forEach(function(t){t.target.classList.contains(TC.Consts.classes.COLLAPSED)&&t.target.classList.remove(TC.Consts.classes.COLLAPSED)})}).observe(o,{attributes:!0})}o&&o.classList.remove(TC.Consts.classes.HIDDEN);l.forEach(function(t){t.classList.add(TC.Consts.classes.HIDDEN)});r.checked=!0};e.div.querySelectorAll("span").forEach(function(e){e.addEventListener(TC.Consts.event.CLICK,t,{passive:!0})});"number"==typeof e.defaultSelection&&t.call(e.div.querySelectorAll(e._selectors.RADIOBUTTON)[e.defaultSelection])}))}}();
//# sourceMappingURL=../maps/control/TabContainer.min.js.map