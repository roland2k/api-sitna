TC.control=TC.control||{};TC.control.infoShare={getDiv:function(t){return t||this._dialogDiv},getShareDialog:function(t){const e=this,o=e.getDiv(t);return e._shareCtl?Promise.resolve(e._shareCtl):new Promise(function(t,a){e.map.addControl("share",{id:e.getUID(),div:o.querySelector(".tc-modal-body ."+e.CLASS+"-share-dialog-ctl"),includeControls:!1}).then(o=>{e._shareCtl=o;e._shareCtl.caller=e;e._shareCtl.extraParams=null;t(o)})})},onShowShareDialog:async function(){this.toShare=this.toShare||{};this.toShare.doZoom=!0;this.map.trigger(TC.Consts.event.MAPCHANGE);const t=this._shareCtl,e=t.div,o=await t.generateLink(),a=e.querySelector(".tc-url input[type=text]");a.value=o;delete a.dataset.update;delete a.dataset.shortened;e.querySelector(".tc-iframe input[type=text]").value=await t.generateIframe(o)},showShareDialog:function(t){const e=this,o=e.getDiv(t).querySelector("."+e.CLASS+"-share-dialog");TC.Util.showModal(o,{openCallback:function(){e.onShowShareDialog(o).then(function(){e.map.trigger(TC.Consts.event.DIALOG,{control:e._shareCtl,action:"share"})})},closeCallback:function(){e.onCloseShareDialog()}})},onCloseShareDialog:function(){this.toShare=this.toShare||{};this.toShare.doZoom=!1;this.map.trigger(TC.Consts.event.MAPCHANGE)}};
//# sourceMappingURL=../maps/control/infoShare.min.js.map