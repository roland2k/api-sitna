document.querySelectorAll(".tc-map").forEach(function(e){const t=TC.Map.get(e);if(t&&!t._layoutDone){TC.Cfg.applyChanges=function(e){var t=e instanceof Array?e:[e];if(t){var n;t.forEach(function(e){var t=e.apply,s=t.elements instanceof Array?t.elements:[t.elements];(n=e.map||n||TC.Map.get(document.querySelector(".tc-map"))).div.addEventListener(t.event,TC.EventTarget.listenerBySelector(s.join(),function(){window.matchMedia(e.screenCondition).matches&&t.changes.forEach(function(e){var t=Array.isArray(e.targets)?e.targets:[e.targets],s=Array.isArray(e.classes)?e.classes:[e.classes];n.div.querySelectorAll(t.join()).forEach(function(e){s.forEach(function(t){e.classList.add(t)})})})}))})}};window.matchMedia("screen and (max-width: 40em), screen and (max-height: 40em)").matches&&(t.defaultInfoContainer=TC.Consts.infoContainer.RESULTS_PANEL);t.ready(function(){t.controls.forEach(e=>{e instanceof HTMLElement&&e.parentElement&&e.parentElement.classList.contains(TC.Consts.classes.COLLAPSED)&&e.classList.add(TC.Consts.classes.COLLAPSED)});const e=t.div.querySelector(".ovmap-panel");var n;t.div.querySelectorAll(".right-panel > h1").forEach(function(s){s.addEventListener(TC.Consts.event.CLICK,function(s){s.preventDefault();s.stopPropagation();const o=s.target.parentElement,a=o.classList.toggle("right-collapsed");t&&o===e&&n&&(a?n.disable():setTimeout(function(){n.enable()},250))})});t.div.querySelectorAll(".left-panel > h1").forEach(function(e){e.addEventListener(TC.Consts.event.CLICK,function(e){e.preventDefault();e.stopPropagation();e.target.parentElement.classList.toggle("left-collapsed")})});t.div.querySelector(".tools-panel").addEventListener(TC.Consts.event.CLICK,function(e){let n=e.target;"BUTTON"===n.tagName&&n.closest("div.tc-ctl."+TC.Consts.classes.COLLAPSED)&&(n=n.parentElement);if("H2"===n.tagName){const e=n.parentElement;t&&t.layout&&t.layout.accordion&&e.classList.contains(TC.Consts.classes.COLLAPSED)&&this.querySelectorAll("h2").forEach(function(t){const n=t.parentElement;n===e||n.matches(".tc-ctl-search")||n.classList.add(TC.Consts.classes.COLLAPSED)});e.classList.toggle(TC.Consts.classes.COLLAPSED)}});t.loaded(function(){(n=t.getControlsByClass("TC.control.OverviewMap")[0])&&n.loaded(function(){n.disable()});const e=t.getControlsByClass("TC.control.WorkLayerManager")[0],s=t.getControlsByClass("TC.control.MultiFeatureInfo")[0];if(e&&s){e.div.querySelector("."+e.CLASS+"-content").insertAdjacentElement("afterend",s.div);s.containerControl=e}TC.Cfg.applyChanges([{map:t,screenCondition:"(max-width: 42em)",apply:{event:"click",elements:[".tc-ctl-bms-node > label",".tc-ctl-meas-select label",".tc-ctl-mod-btn-select"],changes:[{targets:"#tools-panel",classes:"right-collapsed"}]}}])});TC.Consts.event.TOOLSCLOSE=TC.Consts.event.TOOLSCLOSE||"toolsclose.tc";TC.Consts.event.TOOLSOPEN=TC.Consts.event.TOOLSOPEN||"toolsopen.tc";t.on(TC.Consts.event.TOOLSOPEN,function(e){t.div.querySelector(".tools-panel").classList.remove("right-collapsed")});t.on(TC.Consts.event.TOOLSCLOSE,function(e){t.div.querySelector(".tools-panel").classList.add("right-collapsed")});if(TC.browserFeatures.touch()){const e=function(e){const n="."+e+"-panel",s=e+"-collapsed",o={noSwipe:"li,a"};o[e]=function(){this.classList.add(s)};t.div.querySelectorAll(n).forEach(function(e){TC.Util.swipe(e,o)})};e("right");e("left")}})}t._layoutDone=!0});